# tg2md

CLI-утилита на Go для конвертации JSON-экспорта Telegram-чата в Markdown-файлы с разбивкой по месяцам.

## Возможности

- Потоковый парсинг JSON для обработки больших файлов
- Разбивка по месяцам: `название_группы_month_year.md`
- Поддержка форматирования: **жирный**, _курсив_, `код`
- Поддержка ответов, пересылок и служебных сообщений
- Сохранение кириллицы в именах файлов
- Цветной консольный вывод

## Установка

```bash
go install github.com/grigoriizhovtun/tg2md/cmd/tg2md@latest
```

Или сборка из исходников:

```bash
git clone https://github.com/grigoriizhovtun/tg2md.git
cd tg2md
go build -o tg2md ./cmd/tg2md
```

## Использование

```bash
tg2md <input.json> [output_path]
```

**Аргументы:**
- `input.json` — путь к JSON-файлу экспорта Telegram Desktop (обязательный)
- `output_path` — базовый путь для выходной директории (опционально, по умолчанию — текущая директория)

**Пример:**

```bash
./tg2md telegram_export.json ./output
```

**Выходная структура:**

```
output/
└── название_группы/
    ├── название_группы_january_2024.md
    ├── название_группы_february_2024.md
    └── errors.log
```

## Формат сообщений

**Обычное сообщение:**
```
[2024-01-15 14:30] Иван: Привет, как дела?
```

**Ответ на сообщение:**
```
[2024-01-15 14:31] Мария: [В ответ на: "Привет, как дела?"] Отлично!
```

**Пересланное сообщение:**
```
[2024-01-15 14:32] Пётр: [Переслано от: Алексей] Важная информация
```

**Служебное сообщение:**
```
[2024-01-15 14:33] [Служебное: Иван invite_members]
```

## Тестирование

```bash
go test ./...
```

## Требования

- Go 1.21+

## Лицензия

MIT
